<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keranjang Biji Kopi & Kopi Bubuk</title>
    <link rel="website icon" href="Kios Kopi Logo.png">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Custom Styles -->
    <style>
        /* Root Variables for Colors */
        :root {
            --primary-color: #8B4513; /* Brown */
            --secondary-color: #D2691E; /* Chocolate */
            --accent-color: #228B22; /* Green */
            --text-color: #333;
            --bg-color: #f8f5f1;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: auto;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        h2 {
            color: var(--primary-color);
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .cart-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            border-bottom: 2px dashed var(--primary-color);
        }

        .cart-item img {
            width: 80px;
            border-radius: 10px;
            border: 2px solid var(--primary-color);
        }

        .cart-item h3 {
            font-size: 1.2rem;
            margin: 0;
            color: var(--text-color);
        }

        .cart-item p {
            font-size: 1rem;
            color: #777;
            margin: 5px 0;
        }

        .quantity {
            display: flex;
            align-items: center;
        }

        .quantity button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            margin: 0 5px;
            border-radius: 5px;
        }

        .remove-btn {
            background: #DC143C;
            color: white;
            padding: 5px 10px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }

        /* Payment Methods */
        .payment-methods {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .payment-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 150px;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.3s;
            text-align: center;
        }

        .payment-option:hover {
            border-color: var(--accent-color);
        }

        .payment-option input {
            display: none;
        }

        .payment-option img {
            width: 50px;
            height: auto;
            margin-bottom: 5px;
        }

        .payment-option span {
            font-weight: bold;
            font-size: 1rem;
        }

        .summary {
            padding: 20px;
            background: var(--secondary-color);
            margin-top: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .summary p {
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
        }

        .summary button {
            background: var(--accent-color);
            color: white;
            padding: 10px;
            border: none;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            border-radius: 10px;
            font-size: 1rem;
        }

        .summary button:hover {
            background: #2E8B57;
        }

        .menu {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .menu a {
            text-decoration: none;
            color: white;
            background: var(--primary-color);
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: 0.3s ease-in-out;
        }

        .menu a:hover {
            background: #5A3824;
            transform: scale(1.05);
        }

        .menu a i {
            font-size: 1.2rem;
        }

        /* Payment Methods */
.payment-methods {
    display: flex;
    justify-content: space-around;
    margin: 20px 0;
    flex-wrap: wrap;
}

.payment-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 150px;
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.3s;
    text-align: center;
    position: relative; /* Untuk overlay */
}

.payment-option:hover {
    border-color: var(--accent-color);
}

.payment-option input {
    display: none;
}

.payment-option img {
    width: 50px;
    height: auto;
    margin-bottom: 5px;
}

.payment-option span {
    font-weight: bold;
    font-size: 1rem;
}

/* Overlay untuk NOT AVAILABLE NOW */
.not-available {
    cursor: not-allowed;
    opacity: 0.6; /* Kurangi opasitas */
}

.not-available-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 0, 0, 0.8); /* Latar merah semi-transparan */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    color: white;
    font-size: 0.8rem;
    text-align: center;
    opacity: 0; /* Awalnya tersembunyi */
    transition: opacity 0.3s ease-in-out;
}

.not-available:hover .not-available-overlay {
    opacity: 1; /* Tampilkan overlay saat hover */
}

.not-available-overlay i {
    font-size: 2rem;
    margin-bottom: 5px;
}

.btn-checkout {
    background-color: #28a745; /* Hijau untuk checkout */
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 1rem;
    border-radius: 5px;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    transition: background-color 0.3s ease-in-out;
}

.btn-checkout:hover {
    background-color: #218838; /* Warna lebih gelap saat hover */
}

       /* Media Queries */
@media (max-width: 768px) {
    .payment-methods {
        flex-direction: column;
        align-items: center;
    }

    .payment-option {
        margin-bottom: 15px;
    }

    .summary p {
        font-size: 1rem;
    }

    .summary button {
        font-size: 0.9rem;
    }
}

@media (max-width: 576px) {
    h2 {
        font-size: 1.5rem;
    }

    .cart-item h3 {
        font-size: 1rem;
    }

    .cart-item img {
        width: 60px;
    }

    .menu a {
        font-size: 0.9rem;
        padding: 10px 20px;
    }

    .payment-option {
        max-width: 120px;
    }

    .payment-option img {
        width: 40px;
    }

    .payment-option span {
        font-size: 0.8rem;
    }

    .not-available-overlay {
        font-size: 0.7rem;
    }

    .not-available-overlay i {
        font-size: 1.5rem;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <h2><i class="fas fa-shopping-cart"></i> Keranjang Biji Kopi & Kopi Bubuk</h2>
        <div id="cartItems"></div>

        <!-- Payment Methods -->
<h3>Pilih Metode Pembayaran</h3>
<div class="payment-methods">
    <label class="payment-option">
        <input type="radio" name="payment" value="DANA">
        <img src="DANA Icon.png" alt="DANA">
        <span>DANA</span>
    </label>

    <label class="payment-option not-available">
        <input type="radio" name="payment" value="GoPay" disabled>
        <img src="GoPay Icon.png" alt="GoPay">
        <span>GoPay</span>
        <div class="not-available-overlay">
            <i class="fas fa-times"></i>
            <p>NOT AVAILABLE NOW!</p>
        </div>
    </label>

    <label class="payment-option not-available">
        <input type="radio" name="payment" value="ShopeePay" disabled>
        <img src="ShopeePay Icon.png" alt="ShopeePay">
        <span>ShopeePay</span>
        <div class="not-available-overlay">
            <i class="fas fa-times"></i>
            <p>NOT AVAILABLE NOW!</p>
        </div>
    </label>
</div>

        <!-- Tombol Konfirmasi dan Batalkan -->
        <div class="d-flex justify-content-center gap-3 mt-4">
            <button class="btn btn-success" onclick="confirmPayment()">Gunakan Metode Pembayaran Ini</button>
            <button class="btn btn-danger" onclick="cancelPayment()">Batalkan</button>
        </div>

        <div class="summary">
            <p>Total: <span id="subtotal">Rp0</span></p>
            <button onclick="clearCart()">Hapus Keranjang</button>
            <a href="#" id="checkoutButton">
                <button class="btn btn-success w-100 mt-3">
                    Checkout <i class="fas fa-shopping-cart"></i>
                </button>
            </a>
        </div>
    </div>

    <div class="menu">
        <a href="galerikopi.html"><i class="fas fa-arrow-left"></i> Kembali ke Galeri</a>
    </div>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function loadCart() {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            let cartItems = document.getElementById("cartItems");
            let subtotal = 0;
            cartItems.innerHTML = "";
            cart.forEach((product, index) => {
                subtotal += product.price * product.quantity;
                cartItems.innerHTML += `
                    <div class="cart-item">
                        <img src="${product.image}" alt="${product.name}">
                        <div>
                            <h3>${product.name}</h3>
                            <p>Rp${product.price.toLocaleString()}</p>
                        </div>
                        <div class="quantity">
                            <button onclick="updateQuantity(${index}, -1)">-</button>
                            <span>${product.quantity}</span>
                            <button onclick="updateQuantity(${index}, 1)">+</button>
                        </div>
                        <button class="remove-btn" onclick="removeFromCart(${index})">Hapus</button>
                    </div>
                `;
            });
            document.getElementById("subtotal").innerText = `Rp${subtotal.toLocaleString()}`;
        }

        function updateQuantity(index, change) {
            let cart = JSON.parse(localStorage.getItem("cart"));
            cart[index].quantity += change;
            if (cart[index].quantity <= 0) cart.splice(index, 1);
            localStorage.setItem("cart", JSON.stringify(cart));
            loadCart();
        }

        function removeFromCart(index) {
            let cart = JSON.parse(localStorage.getItem("cart"));
            cart.splice(index, 1);
            localStorage.setItem("cart", JSON.stringify(cart));
            loadCart();
        }

        function clearCart() {
            localStorage.removeItem("cart");
            loadCart();
        }

        function confirmPayment() {
            let selectedPayment = document.querySelector('input[name="payment"]:checked');
            if (!selectedPayment) {
                alert("Silakan pilih metode pembayaran terlebih dahulu!");
                return;
            }
            alert("Metode Pembayaran Yang Anda Pilih Telah Dikonfirmasi: " + selectedPayment.value);
        }

        function cancelPayment() {
            let selectedPayment = document.querySelector('input[name="payment"]:checked');
            if (selectedPayment) {
                selectedPayment.checked = false;
                alert("Pilihan pembayaran dibatalkan.");
            }
        }

        document.addEventListener("DOMContentLoaded", loadCart);
    </script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        // Pilih elemen tombol berdasarkan ID
        const checkoutButton = document.getElementById("checkoutButton");

        // Tambahkan event listener untuk mencegat klik
        checkoutButton.addEventListener("click", (event) => {
            // Cegah perilaku default (membuka link)
            event.preventDefault();

            // Redirect ke halaman kopicheckout.html
            window.location.href = "kopicheckout.html";
        });
    });
</script>
</body>
</html>